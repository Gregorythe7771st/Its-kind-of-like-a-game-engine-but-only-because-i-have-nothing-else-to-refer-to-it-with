<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Tic tac toe</title>
    <style>
       .board{
           height: 300px;
           width:  300px;
           font-size: 200px;
           outline: 15px solid black;
       }
       body{
           background-color: #434343;
       }
       p{
           color: white;
           font-size: 50px;
       }
       input{
           height: 50px;
           width: 50px;
       }
    </style>
</head>
<body>
    <button class="board" id="one" onclick="move('one', 0)">‎</button>
    <button class="board" id="two" onclick="move('two', 1)">‎</button>
    <button class="board" id="three" onclick="move('three', 2)">‎</button>
    <br>
    <button class="board" id="four" onclick="move('four', 3)">‎</button>
    <button class="board" id="five" onclick="move('five', 4)">‎</button>
    <button class="board" id="six" onclick="move('six', 5)">‎</button>
    <br>
    <button class="board" id="seven" onclick="move('seven', 6)">‎</button>
    <button class="board" id="eight" onclick="move('eight', 7)">‎</button>
    <button class="board" id="nine" onclick="move('nine', 8)">‎</button>
    <!-- there are insivible characters in the buttons. that is why it doesnt look weird -->
    <p id="win"></p><br>
    <p>branch:</p><p id="branchy">0</p>
    <p><input type="checkbox" onclick="bot()">
    Click to play with bot</p>
<script>
let index = 0
let board = [".", ".","."
,".",".",".",
".",".","."]
let hasWon = false
let xScore = 0
let oScore = 0
let branch = 0

function move(square, place){

if(document.getElementById(square).innerText === "‎"){
    if(index === 1 || index === 3 || index === 5 || index === 7 || index === 9){
        document.getElementById(square).innerText="O"
        index++
        board[place] = "O"
        document.getElementById(square).style.backgroundColor = "#80d6ff"
        checkWin()
        bot(place)
        showBranch()
    }else{
        document.getElementById(square).innerText="X"
        index++
        board[place] = "X"
        document.getElementById(square).style.backgroundColor = "#ff2b35"
        checkWin()
        bot(place)
        showBranch()
        }
    }
}    

function checkWin(){
    if(board[0] === "X" && board[1] === "X" && board[2] === "X"){
        document.getElementById("win").innerText = "X wins"
noChange()
hasWon = true
    }else if(board[0] === "O" && board[1] === "O" && board[2] === "O"){
       document.getElementById("win").innerText = "O wins"
noChange()
hasWon = true
    }else if(board[3] === "X" && board[4] === "X" && board[5] === "X"){
        document.getElementById("win").innerText = "X wins"
noChange()
hasWon = true       
    }else if(board[3] === "O" && board[4] === "O" && board[5] === "O"){
        document.getElementById("win").innerText = "O wins"
noChange()
hasWon = true        
    }else if(board[6] === "X" && board[7] === "X" && board[8] === "X"){
        document.getElementById("win").innerText = "X wins"
noChange()
hasWon = true        
    }else if(board[6] === "O" && board[7] === "O" && board[8] === "O"){
        document.getElementById("win").innerText = "O wins"
noChange()
hasWon = true
 }
     else if(board[0] === "X" && board[3] === "X" && board[6] === "X"){
        document.getElementById("win").innerText = "X wins"
noChange()
hasWon = true
 }
    else if(board[0] === "O" && board[3] === "O" && board[6] === "O"){
        document.getElementById("win").innerText = "O wins"
noChange()
hasWon = true
 }
     else if(board[1] === "X" && board[4] === "X" && board[7] === "X"){
        document.getElementById("win").innerText = "X wins"
noChange()
hasWon = true
 }       
     else if(board[1] === "O" && board[4] === "O" && board[7] === "O"){
        document.getElementById("win").innerText = "O wins"
noChange() 
hasWon = true
}
     else if(board[2] === "X" && board[5] === "X" && board[8] === "X"){
        document.getElementById("win").innerText = "X wins"
noChange() 
hasWon = true
}       
     else if(board[2] === "O" && board[5] === "O" && board[8] === "O"){
        document.getElementById("win").innerText = "O wins"
noChange() 
hasWon = true
}
     else if(board[0] === "X" && board[4] === "X" && board[8] === "X"){
        document.getElementById("win").innerText = "X wins"
noChange() 
hasWon = true
}       
     else if(board[0] === "O" && board[4] === "O" && board[8] === "O"){
        document.getElementById("win").innerText = "O wins"
noChange() 
hasWon = true
}      
     else if(board[2] === "X" && board[4] === "X" && board[6] === "X"){
        document.getElementById("win").innerText = "X wins"
noChange() 
hasWon = true
}       
     else if(board[2] === "O" && board[4] === "O" && board[6] === "O"){
        document.getElementById("win").innerText = "O wins"
noChange()
hasWon = true 
    }
    
let allDots = true
for (let i = 0; i < board.length; i++) {
    if (board[i] === ".") {
        allDots = false
        break
    }
}
if (!hasWon)
if (allDots) {
    document.getElementById("win").innerText = "Draw"
}    

function noChange(){
let button = document.getElementsByClassName("board")

for (let i = 0; i < button.length; i++) {
    button[i].id = "B" + i
 }
}
}

function showBranch(){
    document.getElementById("branchy").innerText = branch
}



function bot(place){
if( document.querySelector('input').checked ){
    if(index === 0){
        move('seven', 6)
    }
    
//responses to 8th move:     
    
if(branch === 130){
          if(place === 3){
          move('six', 5)
          branch = 260
          }else{
              move('three', 2)
              branch = 390
          }
     }
     
if(branch === 182){
          if(place === 1){
          move('eight', 7)
          branch = 364
          }else{
              move('two', 1)
              branch = 546
          }
     }     

if(branch === 442){
          if(place === 1){
          move('eight', 7)
          branch = 884
          }else{
              move('two', 1)
              branch = 1326
          }
     }
     
if(branch === 494){
          if(place === 3){
          move('six', 5)
          branch = 992
          }else{
              move('four', 3)
              branch = 1482
          }
     }         
        
//responses to 6th move: 

      if(branch === 10){
          if(place === 5){
              move('five', 4)
              branch = 20
          }else{
              move('six', 5)
              branch = 30
          }
      }
      
        if(branch === 14){
          if(place === 0){
              move('three', 2)
              branch = 84
          }else{
              move('one', 0)
              branch = 126
          }
      }
      
      if(branch === 22){
          if(place === 4){
              move('four', 3)
              branch = 132
          }else{
              move('five', 4)
              branch = 198
          }
      }
      
      if(branch === 65){
          if(place === 8){
          move('one', 0)
          branch = 130
          }else{
              move('nine', 8)
              branch = 195
          }
      }
      
      if(branch === 91){
          if(place === 8){
          move('one', 0)
          branch = 182
          }else{
              move('six', 5)
              branch = 273
          }
      }

      if(branch === 114){
          if(place === 5) {
          move('three', 2)
          branch = 228
          }
      
      if(branch === 143){
          if(place === 7){
          move('six', 5)
          branch = 286
          }else{
              move('eight', 7)
              branch = 429
          }
      }
        
        if(branch === 169){
          if(place === 1){
          move('four', 3)
          branch = 338
          }else{
              move('two', 1)
              branch = 507
          }
     }
     
     if(branch === 221){
          if(place === 0){
          move('nine', 8)
          branch = 442
          }else{
              move('one', 0)
              branch = 663
          }
     }
     
     if(branch === 247){
          if(place === 0){
          move('nine', 8)
          branch = 494
          }else{
              move('one', 0)
              branch = 741
          }
     }
     
     if(branch === 34){
          if(place === 8){
          move('three', 2)
          branch = 68
          }else{
              move('nine', 8)
              branch = 102
          }
     }
     
     if(branch === 38){
          if(place === 4){
          move('two', 1)
          branch = 76
          }else{
              move('five', 4)
              branch = 114
          }
     }


//responses to fourth move: 

       if(branch === 5){
                if(place === 7){
                    move('three', 2)
                    branch = 10
                }else{
                    move('eight', 7)
                    branch = 15
                    }
                }
 
      if(branch === 7){
                if(place === 7){
                    move('five', 4)
                    branch = 14
                }else{
                    move('eight', 7)
                    branch = 21
                    }
                }
                
      if(branch === 11){
                if(place === 7){
                    move('one', 0)
                    branch = 22
                }else{
                    move('eight', 7)
                    branch = 33
                    }
                }
                
      if(branch === 13){
                if(place === 1){
                    move('eight', 7)
                    branch = 65                    
                }else if(place === 3){
                    move('six', 5)
                    branch = 91
                }else if(place === 0){
                     move('nine', 8)
                     branch = 143
                }else if(place === 8){
                    move('one', 0)
                    branch = 169
                }else if(place === 5){
                    move('four', 3)
                    branch = 221
                }else{
                    move('two', 1)
                    branch = 247
                }
            } 
            
      if(branch === 17){
          if(place === 7){
              move('one', 1)
              branch = 34
          }else{
              move('eight', 7)
              branch = 51
          }
      }
      
      if(branch === 19){
          if(place === 3){
              move('five', 4)
              branch = 38
          }else{
              move('four', 3)
              branch = 57
          }
      }                  
                        
      
//responses to second move: 
    
        if(index === 2){
        if(place === 0 || 
           place === 3){
            move('nine', 8)
            branch = 5
        }else if(place === 1){
            move('nine', 8)
            branch = 7
        }else if(place === 2){
            move('nine', 8)
            branch = 11        
        }else if(place === 4){
            move('three',2)
            branch = 13
        }else if(place === 5){
            move('nine', 8)
            branch = 17
        }else if(place === 7 ||
                 place === 8){
            move('one', 0)
            branch = 19  
      }            
    }                           
  }
}

</script>    
</body>
</html>
